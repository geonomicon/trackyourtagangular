"use strict";angular.module("trackyourtagangularApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ngMap","firebase","restangular","ui.bootstrap","smart-table","ngMessages"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/users",{templateUrl:"views/users.html",controller:"UsersCtrl",controllerAs:"users"}).when("/generator",{templateUrl:"views/generator.html",controller:"GeneratorCtrl",controllerAs:"generator"}).when("/admin",{templateUrl:"views/admin.html",controller:"AdminCtrl",controllerAs:"admin"}).otherwise({redirectTo:"/"})}]),angular.module("trackyourtagangularApp").controller("MainCtrl",["$location","$scope","myService","Restangular",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],b.login=function(b){c.$authWithOAuthRedirect(b).then(function(b){console.log(b),a.path("/about")})["catch"](function(a){"TRANSPORT_UNAVAILABLE"===a.code?c.$authWithOAuthPopup(b).then(function(a){console.dir(a)}):console.log(a)})},c.$onAuth(function(c){null===c?console.log("Not logged in yet"):(console.log("Logged in as",c.uid),a.path("/about")),b.authData=c})}]),angular.module("trackyourtagangularApp").controller("AboutCtrl",["$scope","myService","Restangular",function(a,b,c){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.alerts=[],a.closeAlert=function(b){a.alerts.splice(b,1)},a.locate=function(){if(a.trackid){var b="https://trackyourtag.herokuapp.com/droid/getall/"+a.trackid,d=c.oneUrl("droute",b);d.get().then(function(b){a.alldetail=b,a.markername=b.pname,a.center=[b.lat,b["long"]],a.marker=[b.lat,b["long"]]})}else a.alerts.push({type:"danger",msg:"All Fields Are Required"})}}]),angular.module("trackyourtagangularApp").service("myService",["$firebaseAuth","Firebase",function(a,b){var c=new b("https://trackyourtag.firebaseio.com/users");return a(c)}]),angular.module("trackyourtagangularApp").controller("UsersCtrl",["$scope","$timeout","Restangular",function(a,b,c){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.alerts=[],a.closeAlert=function(b){a.alerts.splice(b,1)},a.rowCollection=[],b(function(){var b="https://trackyourtag.herokuapp.com/h/holders/",d=c.oneUrl("droute",b);d.getList().then(function(b){a.rowCollection=b,console.log(a.rowCollection)})}),a.add=function(){if(a.pass!==a.cpass&&a.alerts.push({type:"danger",msg:"Password dont Match"}),a.name||a.alerts.push({type:"danger",msg:"Name is required"}),a.email||a.alerts.push({type:"danger",msg:"Email is required"}),a.cno||a.alerts.push({type:"danger",msg:"Contact No is required"}),a.pass){var b="https://trackyourtag.herokuapp.com/h/add/"+a.name+"/"+a.email+"/"+a.pass+"/"+a.cno,d=c.oneUrl("droute",b);d.post().then(function(b){a.alerts.push({type:"success",msg:"User Added with data"+b})})}else a.alerts.push({type:"danger",msg:"Password is required"})}}]),angular.module("trackyourtagangularApp").controller("GeneratorCtrl",["$scope","Restangular",function(a,b){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.alerts=[],a.closeAlert=function(b){a.alerts.splice(b,1)},a.print=function(a){var b=document.getElementById(a).innerHTML,c=document.body.innerHTML;document.body.innerHTML="<html><head><title></title></head><body>"+b+"</body>",window.print(),document.body.innerHTML=c},a.imgurl="http://placehold.it/350x150",a.generate=function(){if(a.pname||a.alerts.push({type:"danger",msg:"Product Name is required"}),a.qty||a.alerts.push({type:"danger",msg:"Quantity is required"}),a.startloc||a.alerts.push({type:"danger",msg:"Seller City is required"}),a.endloc||a.alerts.push({type:"danger",msg:"Destination is required"}),a.receiveremail||a.alerts.push({type:"danger",msg:"Receiver Mail is required"}),a.qrid){a.imgurl="https://api.qrserver.com/v1/create-qr-code/?size=450x450&data="+a.qrid;var c="https://trackyourtag.herokuapp.com/droid/"+a.qrid+"/"+a.pname+"/"+a.startloc+"/"+a.endloc+"/"+a.qty+"/"+a.receiveremail,d=b.oneUrl("droute",c);d.post().then(function(b){console.log(b),console.log(c),a.alerts.push({type:"success",msg:"QR Code Generted with data"+b})})}else a.alerts.push({type:"danger",msg:"ID is required"})}}]),angular.module("trackyourtagangularApp").controller("AdminCtrl",["$scope","Restangular","$location",function(a,b,c){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.myValue=!1,a.alerts=[],a.closeAlert=function(b){a.alerts.splice(b,1)},a.generatorgo=function(){c.path("/generator")},a.usersgo=function(){c.path("/users")},a.login=function(){var c="https://trackyourtag.herokuapp.com/h/check/"+a.email+"/"+a.pass,d=b.oneUrl("getroute",c);d.get().then(function(b){console.log(b),"valid"===b?(a.alerts.push({type:"success",msg:"Logged In with"+b}),a.myValue=!0):a.alerts.push({type:"danger",msg:"Login Not Authenticated"})})}}]),angular.module("trackyourtagangularApp").run(["$templateCache",function(a){a.put("views/about.html",'<uib-alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</uib-alert> <ng-map center="{{center}}"> <marker position="{{marker}}" title="{{markername}}" animation="Animation.BOUNCE"></marker> </ng-map>  <input type="text" name="trackid" ng-model="trackid" class="form-control" required> <br> <button type="button" class="btn btn-primary" ng-click="locate()">Track Your Package</button> <br> <table st-table="rowCollection" class="table table-striped"> <thead> <tr> <th>Name</th> <th>Start Point</th> <th>End Point</th> <th>Quantity</th> <th>Holder Email</th> </tr> </thead> <tbody> <tr> <td>{{alldetail.pname}}</td> <td>{{alldetail.startloc}}</td> <td>{{alldetail.endloc}}</td> <td>{{alldetail.qty}}</td> <td>{{alldetail.holderemail}}</td> </tr> </tbody> </table>'),a.put("views/admin.html",'<uib-alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</uib-alert> <form name="admin"> <div class="form-group"> <label>Email:</label> <input type="text" name="email" ng-model="email" class="form-control" required> <div ng-messages="admin.email.$error"> <div ng-message="required"><i>This field is required</i></div> </div> <label>Password:</label> <input type="password" name="pass" ng-model="pass" class="form-control" required> <div ng-messages="admin.pass.$error"> <div ng-message="required"><i>This field is required</i></div> </div>  <button type="button" class="btn btn-primary" ng-click="login()">Authenticate</button> </div> </form> <div ng-show="myValue"> <button type="button" class="btn btn-primary" ng-click="generatorgo()">Generate Tag</button> <button type="button" class="btn btn-primary" ng-click="usersgo()">Add New User</button> </div>'),a.put("views/generator.html",'<uib-alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</uib-alert> <form name="qrform"> <div class="form-group"> <label>Product Name:</label> <input type="text" name="pname" ng-model="pname" class="form-control" required> <div ng-messages="qrform.pname.$error"> <div ng-message="required"><i>This field is required</i></div> </div> <label>Quantity:</label> <input type="text" name="qty" ng-model="qty" class="form-control" required> <div ng-messages="qrform.qty.$error"> <div ng-message="required"><i>This field is required</i></div> </div> <label>Product ID:</label> tyt<input type="text" name="qrid" ng-model="qrid" class="form-control" required> <div ng-messages="qrform.qrid.$error"> <div ng-message="required"><i>This field is required</i></div> </div> <label>Seller\'s City:</label> <input type="text" name="startloc" ng-model="startloc" class="form-control" required> <div ng-messages="qrform.startloc.$error"> <div ng-message="required"><i>This field is required</i></div> </div> <label>Shipping and Billing Address City:</label> <input type="text" name="endloc" ng-model="endloc" class="form-control" required> <div ng-messages="qrform.endloc.$error"> <div ng-message="required"><i>This field is required</i></div> </div> <label>Receiver\'s Email</label> <input type="text" name="receiveremail" ng-model="receiveremail" class="form-control" required> <div ng-messages="qrform.receiveremail.$error"> <div ng-message="required"><i>This field is required</i></div> </div>  <button type="button" class="btn btn-primary" ng-click="generate()">Generate Image</button> <button type="button" class="btn btn-primary" ng-click="print(\'printablediv\')">Print QR Code</button> </div> </form> <div id="printablediv"> <img src="{{imgurl}}"> </div>'),a.put("views/main.html",'<div class="jumbotron"> <h1>Track Your Tag</h1> <img src="images/yeoman.png"><br> </div> <p><button type="button" class="btn btn-primary btn-block" ng-click="login(\'google\')">Start Tracking</button></p>'),a.put("views/users.html",'<uib-alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</uib-alert> <form name="exampleForm"> <div class="form-group"> <label>Name:</label> <input type="text" name="name" ng-model="name" class="form-control" required> <div ng-messages="exampleForm.name.$error"> <div ng-message="required"><i>This field is required</i></div> </div> <label>Email:</label> <input type="text" name="email" ng-model="email" class="form-control" required> <div ng-messages="exampleForm.email.$error"> <div ng-message="required"><i>This field is required</i></div> </div> <label>Password:</label> <input type="password" name="pass" ng-model="pass" class="form-control" required> <div ng-messages="exampleForm.pass.$error"> <div ng-message="required"><i>This field is required</i></div> </div> <label>Confirm Password:</label> <input type="password" name="cpass" ng-model="cpass" class="form-control" required> <div ng-messages="exampleForm.pass.$error"> <div ng-message="required"><i>This field is required</i></div> </div> <label>Contact No:</label> <input type="text" name="cno" ng-model="cno" class="form-control" required> <div ng-messages="exampleForm.cno.$error"> <div ng-message="required"><i>This field is required</i></div> </div>  <button type="button" class="btn btn-primary" ng-click="add()">Add User</button> </div> </form> <table st-table="rowCollection" class="table table-striped"> <thead> <tr> <th>Name</th> <th>Email</th> <th>Contact</th> </tr> </thead> <tbody> <tr ng-repeat="row in rowCollection"> <td>{{row.name}}</td> <td>{{row.email}}</td> <td>{{row.cno}}</td> </tr> </tbody> </table>')}]);