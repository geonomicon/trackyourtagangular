"use strict";angular.module("trackyourtagangularApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ngMap","firebase","restangular","ui.bootstrap","smart-table","ngMessages"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/users",{templateUrl:"views/users.html",controller:"UsersCtrl",controllerAs:"users"}).when("/generator",{templateUrl:"views/generator.html",controller:"GeneratorCtrl",controllerAs:"generator"}).otherwise({redirectTo:"/"})}]),angular.module("trackyourtagangularApp").controller("MainCtrl",["$location","$scope","myService","Restangular",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],b.login=function(a){c.$authWithOAuthRedirect(a).then(function(a){console.log(a)})["catch"](function(b){"TRANSPORT_UNAVAILABLE"===b.code?c.$authWithOAuthPopup(a).then(function(a){console.dir(a)}):console.log(b)})},c.$onAuth(function(c){null===c?console.log("Not logged in yet"):(console.log("Logged in as",c.uid),a.path("/about")),b.authData=c})}]),angular.module("trackyourtagangularApp").controller("AboutCtrl",["$scope","myService","Restangular",function(a,b,c){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.positions={},a.locate=function(){var b=c.oneUrl("gta","https://trackyourtag.herokuapp.com/droid/getll/2");b.get().then(function(b){console.log(b.lat,b.lng),a.center=[b.lat,b.lng],a.positions.push({pos:[b.lat,b.lng]})})}}]),angular.module("trackyourtagangularApp").service("myService",["$firebaseAuth","Firebase",function(a,b){var c=new b("https://trackyourtag.firebaseio.com/users");return a(c)}]),angular.module("trackyourtagangularApp").controller("UsersCtrl",["$scope","$timeout",function(a,b){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.alerts=[],a.closeAlert=function(b){a.alerts.splice(b,1)};var c=new Firebase("https://trackyourtag.firebaseio.com/"),d=new Firebase("https://trackyourtag.firebaseio.com/users/");a.rowCollection=[],b(function(){d.on("child_added",function(b){var c=b.val();a.rowCollection.push({namerow:c.name,orgrow:c.org,mailrow:c.email,cnorow:c.cno}),console.log(a.rowCollection)})}),a.add=function(){if(null==a.name)a.alerts.push({type:"danger",msg:"All Fields Are Required"});else{var b=c.child("users");b.push().set({name:a.name,org:a.org,email:a.email,cno:a.cno}),a.alerts.push({type:"success",msg:"User Added"})}}}]),angular.module("trackyourtagangularApp").controller("GeneratorCtrl",["$scope",function(a){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.alerts=[],a.closeAlert=function(b){a.alerts.splice(b,1)},a.print=function(a){var b=document.getElementById(a).innerHTML,c=document.body.innerHTML;document.body.innerHTML="<html><head><title></title></head><body>"+b+"</body>",window.print(),document.body.innerHTML=c},a.imgurl="http://placehold.it/350x150",a.generate=function(){a.pid?(a.imgurl="https://api.qrserver.com/v1/create-qr-code/?size=450x450&data="+a.pid,a.alerts.push({type:"success",msg:"QR Code Generted"})):a.alerts.push({type:"danger",msg:"All Fields Are Required"})}}]),angular.module("trackyourtagangularApp").run(["$templateCache",function(a){a.put("views/about.html",'<ng-map center="center"></ng-map> <marker ng-repeat="p in vm.positions" position="{{p.pos}}"></marker> <br> <button type="button" class="btn btn-primary" ng-click="locate()">Track Your Package</button> <br>'),a.put("views/generator.html",'<uib-alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</uib-alert> <div class="form-group"> <label>Product Name:</label> <input type="text" ng-model="name" class="form-control" required> <label>Product ID:</label> tyt<input type="text" ng-model="pid" class="form-control" required> <label>Sold By:</label> Street Name<input type="text" ng-model="soldstreet" class="form-control" required> City<input type="text" ng-model="soldcity" class="form-control" required> <label>Shipping and Billing Address:</label> Street Name<input type="text" ng-model="shipstreet" class="form-control" required> City<input type="text" ng-model="shipcity" class="form-control" required> <label>Tin No:</label> <input type="text" ng-model="email" class="form-control" required> <label>Invoice No:</label> <input type="text" ng-model="cno" class="form-control" required>  <button type="button" class="btn btn-primary" ng-click="generate()">Generate Image</button> <button type="button" class="btn btn-primary" ng-click="print(\'printablediv\')">Print QR Code</button> </div> <div id="printablediv"> <img src="{{imgurl}}"> </div>'),a.put("views/main.html",'<div class="jumbotron"> <h1>Track Your Tag</h1> <p><button class="button" ng-click="login(\'google\')">Google Login</button> <button class="button" ng-click="login(\'github\')">Github Login</button></p> </div>'),a.put("views/users.html",'<uib-alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</uib-alert> <form name="exampleForm"> <div class="form-group"> <label>Name:</label> <input type="text" name="name" ng-model="name" class="form-control" required> <div ng-messages="exampleForm.name.$error"> <div ng-message="required">This field is required</div> </div> <label>Organisation:</label> <input type="text" name="org" ng-model="org" class="form-control" required> <div ng-messages="exampleForm.org.$error"> <div ng-message="required">This field is required</div> </div> <label>Email:</label> <input type="text" name="mail" ng-model="email" class="form-control" required> <div ng-messages="exampleForm.email.$error"> <div ng-message="required">This field is required</div> </div> <label>Contact No:</label> <input type="text" name="cno" ng-model="cno" class="form-control" required> <div ng-messages="exampleForm.cno.$error"> <div ng-message="required">This field is required</div> </div>  <button type="button" class="btn btn-primary" ng-click="add()">Add User</button> </div> </form> <table st-table="rowCollection" class="table table-striped"> <thead> <tr> <th>Name</th> <th>Organisation</th> <th>Email</th> <th>Contact</th> </tr> </thead> <tbody> <tr ng-repeat="row in rowCollection"> <td>{{row.namerow}}</td> <td>{{row.orgrow}}</td> <td>{{row.mailrow}}</td> <td>{{row.cnorow}}</td> </tr> </tbody> </table>')}]);